console.log(" %c Theme WebStack %c https://github.com/gogobody/WebStack","color:#444;background:#eee;padding:5px 0","color:#eee;background:#444;padding:5px"),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(K){"use strict";function U(e){return"string"==typeof e?parseInt(e,10):~~e}var G={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},J=0,V="WebkitAppearance"in document.documentElement.style;K.fn.perfectScrollbar=function(F,R){return this.each(function(){function n(e){return m.minScrollbarLength&&(e=Math.max(e,m.minScrollbarLength)),m.maxScrollbarLength&&(e=Math.min(e,m.maxScrollbarLength)),e}function g(){var e;v.removeClass("ps-active-x"),v.removeClass("ps-active-y"),w=m.includePadding?v.innerWidth():v.width(),x=m.includePadding?v.innerHeight():v.height(),y=v.prop("scrollWidth"),$=v.prop("scrollHeight"),!m.suppressScrollX&&y>w+m.scrollXMarginOffset?(l=!0,c=n(U((d=w-j)*w/y)),u=U(v.scrollLeft()*(d-c)/(y-w))):(l=!1,u=c=0,v.scrollLeft(0)),!m.suppressScrollY&&$>x+m.scrollYMarginOffset?(p=!0,h=n(U((f=x-O)*x/$)),b=U(v.scrollTop()*(f-h)/($-x))):(p=!1,b=h=0,v.scrollTop(0)),d-c<=u&&(u=d-c),f-h<=b&&(b=f-h),(e={width:d}).left=k?v.scrollLeft()+w-y:v.scrollLeft(),D?e.bottom=P-v.scrollTop():e.top=q+v.scrollTop(),L.css(e),e={top:v.scrollTop(),height:f},X?e.right=k?y-v.scrollLeft()-Y-Q.outerWidth():Y-v.scrollLeft():e.left=k?v.scrollLeft()+2*w-y-z-Q.outerWidth():z+v.scrollLeft(),E.css(e),W.css({left:u,width:c-I}),Q.css({top:b,height:h-H}),l&&v.addClass("ps-active-x"),p&&v.addClass("ps-active-y")}function e(){function n(e){var n,t;n=s,t=e.pageX-i,n+=t,t=w-c,n=U((u=n<0?0:t<n?t:n)*(y-w)/(w-c)),v.scrollLeft(n),g(),e.stopPropagation(),e.preventDefault()}function t(){L.removeClass("in-scrolling"),K(M).unbind(T("mousemove"),n)}var s,i;W.bind(T("mousedown"),function(e){i=e.pageX,s=W.position().left,L.addClass("in-scrolling"),K(M).bind(T("mousemove"),n),K(M).one(T("mouseup"),t),e.stopPropagation(),e.preventDefault()}),s=i=null}function t(){function n(e){var n,t;n=s,t=e.pageY-i,n+=t,t=x-h,n=U((b=n<0?0:t<n?t:n)*($-x)/(x-h)),v.scrollTop(n),g(),e.stopPropagation(),e.preventDefault()}function t(){E.removeClass("in-scrolling"),K(M).unbind(T("mousemove"),n)}var s,i;Q.bind(T("mousedown"),function(e){i=e.pageY,s=Q.position().top,E.addClass("in-scrolling"),K(M).bind(T("mousemove"),n),K(M).one(T("mouseup"),t),e.stopPropagation(),e.preventDefault()}),s=i=null}function a(e,n){var t=v.scrollTop();if(0===e){if(!p)return!1;if(0===t&&0<n||$-x<=t&&n<0)return!m.wheelPropagation}t=v.scrollLeft();if(0===n){if(!l)return!1;if(0===t&&e<0||y-w<=t&&0<e)return!m.wheelPropagation}return!0}function s(){function e(e){var n,t,s;!V&&0<v.find("select:focus").length||(t=(n=e).originalEvent.deltaX,s=-1*n.originalEvent.deltaY,void 0!==t&&void 0!==s||(t=-1*n.originalEvent.wheelDeltaX/6,s=n.originalEvent.wheelDeltaY/6),n.originalEvent.deltaMode&&1===n.originalEvent.deltaMode&&(t*=10,s*=10),t!=t&&s!=s&&(t=0,s=n.originalEvent.wheelDelta),s=(t=[t,s])[0],t=t[1],i=!1,m.useBothWheelAxes?p&&!l?(t?v.scrollTop(v.scrollTop()-t*m.wheelSpeed):v.scrollTop(v.scrollTop()+s*m.wheelSpeed),i=!0):l&&!p&&(s?v.scrollLeft(v.scrollLeft()+s*m.wheelSpeed):v.scrollLeft(v.scrollLeft()-t*m.wheelSpeed),i=!0):(v.scrollTop(v.scrollTop()-t*m.wheelSpeed),v.scrollLeft(v.scrollLeft()+s*m.wheelSpeed)),g(),(i=i||a(s,t))&&(e.stopPropagation(),e.preventDefault()))}var i=!1;void 0!==window.onwheel?v.bind(T("wheel"),e):void 0!==window.onmousewheel&&v.bind(T("mousewheel"),e)}function i(){function o(){r&&(clearInterval(r),r=null),L.removeClass("in-scrolling"),E.removeClass("in-scrolling")}var r=null,l={top:0,left:0},c=!1;K(M).bind(T("selectionchange"),function(){var e;K.contains(v[0],0===(e=window.getSelection?window.getSelection():document.getSlection?document.getSlection():{rangeCount:0}).rangeCount?null:e.getRangeAt(0).commonAncestorContainer)?c=!0:(c=!1,o())}),K(window).bind(T("mouseup"),function(){c&&(c=!1,o())}),K(window).bind(T("mousemove"),function(e){var n,t,s,i,a;c&&(n=e.pageX,t=e.pageY,s=(a=v.offset()).left,i=a.left+v.outerWidth(),e=a.top,a=a.top+v.outerHeight(),n<s+3?(l.left=-5,L.addClass("in-scrolling")):i-3<n?(l.left=5,L.addClass("in-scrolling")):l.left=0,t<e+3?(l.top=e+3-t<5?-5:-20,E.addClass("in-scrolling")):a-3<t?(l.top=t-a+3<5?5:20,E.addClass("in-scrolling")):l.top=0,0===l.top&&0===l.left?o():r=r||setInterval(function(){return _()?(v.scrollTop(v.scrollTop()+l.top),v.scrollLeft(v.scrollLeft()+l.left),void g()):void clearInterval(r)},50))})}function o(e,n){function a(e,n){v.scrollTop(v.scrollTop()-n),v.scrollLeft(v.scrollLeft()-e),g()}function t(){b=!0}function s(){b=!1}function o(e){return e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:e.originalEvent}function r(e){e=e.originalEvent;return e.targetTouches&&1===e.targetTouches.length||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function i(e){var n;r(e)&&(f=!0,n=o(e),u.pageX=n.pageX,u.pageY=n.pageY,d=(new Date).getTime(),null!==h&&clearInterval(h),e.stopPropagation())}function l(e){var n,t,s,i;!b&&f&&r(e)&&(a(n=(i={pageX:(s=o(e)).pageX,pageY:s.pageY}).pageX-u.pageX,t=i.pageY-u.pageY),u=i,0<(i=(s=(new Date).getTime())-d)&&(p.x=n/i,p.y=t/i,d=s),function(e,n){var t=v.scrollTop(),s=v.scrollLeft(),i=Math.abs(e),a=Math.abs(n);if(i<a){if(n<0&&t===$-x||0<n&&0===t)return!m.swipePropagation}else if(a<i&&(e<0&&s===y-w||0<e&&0===s))return!m.swipePropagation;return 1}(n,t)&&(e.stopPropagation(),e.preventDefault()))}function c(){!b&&f&&(f=!1,clearInterval(h),h=setInterval(function(){return!_()||Math.abs(p.x)<.01&&Math.abs(p.y)<.01?void clearInterval(h):(a(30*p.x,30*p.y),p.x*=.8,void(p.y*=.8))},10))}var u={},d=0,p={},h=null,b=!1,f=!1;e&&(K(window).bind(T("touchstart"),t),K(window).bind(T("touchend"),s),v.bind(T("touchstart"),i),v.bind(T("touchmove"),l),v.bind(T("touchend"),c)),n&&(window.PointerEvent?(K(window).bind(T("pointerdown"),t),K(window).bind(T("pointerup"),s),v.bind(T("pointerdown"),i),v.bind(T("pointermove"),l),v.bind(T("pointerup"),c)):window.MSPointerEvent&&(K(window).bind(T("MSPointerDown"),t),K(window).bind(T("MSPointerUp"),s),v.bind(T("MSPointerDown"),i),v.bind(T("MSPointerMove"),l),v.bind(T("MSPointerUp"),c)))}function r(){v.unbind(T()),K(window).unbind(T()),K(M).unbind(T()),v.data("perfect-scrollbar",null),v.data("perfect-scrollbar-update",null),v.data("perfect-scrollbar-destroy",null),W.remove(),Q.remove(),L.remove(),E.remove(),v=L=E=W=Q=l=p=w=x=y=$=c=u=P=D=q=h=b=Y=X=z=k=T=null}var m=K.extend(!0,{},G),v=K(this),_=function(){return!!v};if("object"==typeof F?K.extend(!0,m,F):R=F,"update"===R)return v.data("perfect-scrollbar-update")&&v.data("perfect-scrollbar-update")(),v;if("destroy"===R)return v.data("perfect-scrollbar-destroy")&&v.data("perfect-scrollbar-destroy")(),v;if(v.data("perfect-scrollbar"))return v.data("perfect-scrollbar");v.addClass("ps-container");var w,x,y,$,l,c,u,d,p,h,b,f,C,S,k="rtl"===v.css("direction"),T=(C=J++,function(e){var n=".perfect-scrollbar-"+C;return void 0===e?n:e+n}),M=this.ownerDocument||document,L=K("<div class='ps-scrollbar-x-rail'>").appendTo(v),W=K("<div class='ps-scrollbar-x'>").appendTo(L),P=U(L.css("bottom")),D=P==P,q=D?null:U(L.css("top")),I=U(L.css("borderLeftWidth"))+U(L.css("borderRightWidth")),j=U(L.css("marginLeft"))+U(L.css("marginRight")),E=K("<div class='ps-scrollbar-y-rail'>").appendTo(v),Q=K("<div class='ps-scrollbar-y'>").appendTo(E),Y=U(E.css("right")),X=Y==Y,z=X?null:U(E.css("left")),H=U(E.css("borderTopWidth"))+U(E.css("borderBottomWidth")),O=U(E.css("marginTop"))+U(E.css("marginBottom")),B="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,N=null!==window.navigator.msMaxTouchPoints;return g(),v.bind(T("scroll"),function(){g()}),e(),t(),Q.bind(T("click"),A),E.bind(T("click"),function(e){var n=U(h/2),n=(e.pageY-E.offset().top-n)/(x-h);n<0?n=0:1<n&&(n=1),v.scrollTop(($-x)*n)}),W.bind(T("click"),A),L.bind(T("click"),function(e){var n=U(c/2),n=(e.pageX-L.offset().left-n)/(w-c);n<0?n=0:1<n&&(n=1),v.scrollLeft((y-w)*n)}),i(),s(),(B||N)&&o(B,N),m.useKeyboard&&(S=!1,v.bind(T("mouseenter"),function(){S=!0}),v.bind(T("mouseleave"),function(){S=!1}),K(M).bind(T("keydown"),function(e){if((!e.isDefaultPrevented||!e.isDefaultPrevented())&&S){for(var n=document.activeElement||M.activeElement;n.shadowRoot;)n=n.shadowRoot.activeElement;if(!K(n).is(":input,[contenteditable]")){var t=0,s=0;switch(e.which){case 37:t=-30;break;case 38:s=30;break;case 39:t=30;break;case 40:s=-30;break;case 33:s=90;break;case 32:case 34:s=-90;break;case 35:s=e.ctrlKey?-$:-x;break;case 36:s=e.ctrlKey?v.scrollTop():x;break;default:return}v.scrollTop(v.scrollTop()-s),v.scrollLeft(v.scrollLeft()+t),a(t,s)&&e.preventDefault()}}})),v.data("perfect-scrollbar",v),v.data("perfect-scrollbar-update",g),v.data("perfect-scrollbar-destroy",r),v;function A(e){e.stopPropagation()}})}}),jQuery.extend({isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===jQuery.type(e)}});var public_vars=public_vars||{},sm_duration=.2,sm_transition_delay=150;public_vars.$body=$("body"),public_vars.$pageContainer=public_vars.$body.find(".page-container"),public_vars.$sidebarMenu=public_vars.$pageContainer.find(".sidebar-menu"),public_vars.$sidebarProfile=public_vars.$sidebarMenu.find(".sidebar-user-info"),public_vars.$mainMenu=public_vars.$sidebarMenu.find(".main-menu"),public_vars.$horizontalNavbar=public_vars.$body.find(".navbar.horizontal-menu"),public_vars.$horizontalMenu=public_vars.$horizontalNavbar.find(".navbar-nav"),public_vars.$mainContent=public_vars.$pageContainer.find(".main-content"),public_vars.$userInfoMenu=public_vars.$body.find("nav.navbar.user-info-navbar");var webStack={init:function(){this.siteEventInit(),this.resizeNavBar(),this.toggleBarInit()},nightModeInit:function(){var e;""===document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")?22<(new Date).getHours()||(new Date).getHours()<6?(document.body.classList.add("night"),document.cookie="night=1;path=/"):(document.body.classList.remove("night"),document.cookie="night=0;path=/"):(e=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||0,0===parseInt(e)?(document.body.classList.remove("night"),document.querySelector("nav.navbar").classList.remove("night")):(document.body.classList.add("night"),document.querySelector("nav.navbar").classList.add("night")))},siteEventInit:function(){$(document).on("click",".has-sub",function(){var s=$(this);$(this).hasClass("expanded")?$(".has-sub ul").each(function(e,n){var t=$(this);s.find("ul")[0]!==n&&setTimeout(function(){t.attr("style","")},300)}):setTimeout(function(){s.find("ul").attr("style","")},300)}),$(".user-info-menu .hidden-sm").click(function(){$(".sidebar-menu").hasClass("collapsed")?$(".has-sub.expanded > ul").attr("style",""):$(".has-sub.expanded > ul").show()}),$("#main-menu li ul li").click(function(){$(this).siblings("li").removeClass("active"),$(this).addClass("active")})},resizeNavBar:function(){document.querySelector("nav.navbar").style.left=document.querySelector("div.sidebar-menu.toggle-others.fixed").offsetWidth+"px"},toggleBarInit:function(){$("a.smooth").click(function(e){return"index"!==npage?(window.location.href=siteUrl+$(this).attr("href"),!1):(e.preventDefault(),$("#main-menu li").each(function(){$(this).removeClass("active")}),$(this).parent("li").addClass("active"),public_vars.$mainMenu.add(public_vars.$sidebarProfile).toggleClass("mobile-is-visible"),ps_destroy(),void $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top-105},{duration:500,easing:"swing"}))}),setup_sidebar_menu(),setup_horizontal_menu(),$('a[data-toggle="sidebar"]').each(function(e,n){$(n).on("click",function(e){e.preventDefault(),public_vars.$sidebarMenu.hasClass("collapsed")?(public_vars.$sidebarMenu.removeClass("collapsed"),ps_init()):(public_vars.$sidebarMenu.addClass("collapsed"),ps_destroy()),webStack.resizeNavBar()})}),$('a[data-toggle="mobile-menu"]').on("click",function(e){e.preventDefault(),public_vars.$mainMenu.add(public_vars.$sidebarProfile).toggleClass("mobile-is-visible"),public_vars.$userInfoMenu.hasClass("mobile-is-visible")&&public_vars.$userInfoMenu.toggleClass("mobile-is-visible"),ps_destroy()}),$('a[data-toggle="user-info-menu"]').on("click",function(e){e.preventDefault(),public_vars.$userInfoMenu.toggleClass("mobile-is-visible"),public_vars.$mainMenu.hasClass("mobile-is-visible")&&public_vars.$mainMenu.toggleClass("mobile-is-visible")})}},searchWidget={init:function(){this.search()},search:function(){var n=$(".search-icon");n.css("opacity","1");var t=-1,s=0,i={thisSearch:"https://www.baidu.com/s?wd=",thisSearchIcon:"url('/usr/themes/WebStack/images/search_icon.png')",hotStatus:!0,data:[{name:"百度",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px 0px",position:"0px 0px",url:"https://www.baidu.com/s?wd="},{name:"谷歌",img:"url('/usr/themes/WebStack/images/search_icon.png')  -105px 0px",position:"-40px 0px",url:"https://www.google.com/search?q="},{name:"必应",img:"url('/usr/themes/WebStack/images/search_icon.png')  -80px -25px",position:"0px -40px",url:"https://cn.bing.com/search?q="},{name:"好搜",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -25px",position:"-40px -40px",url:"https://www.so.com/s?q="},{name:"搜狗",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -50px",position:"0px -80px",url:"https://www.sogou.com/web?query="},{name:"淘宝",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -50px",position:"-40px -80px",url:"https://s.taobao.com/search?q="},{name:"京东",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -75px",position:"0px -120px",url:"http://search.jd.com/Search?keyword="},{name:"天猫",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -75px",position:"-40px -120px",url:"https://list.tmall.com/search_product.htm?q="},{name:"1688",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -100px",position:"0px -160px",url:"https://s.1688.com/selloffer/offer_search.htm?keywords="},{name:"知乎",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -100px",position:"-40px -160px",url:"https://www.zhihu.com/search?type=content&q="},{name:"微博",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -125px",position:"0px -200px",url:"https://s.weibo.com/weibo/"},{name:"B站",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -125px",position:"-40px -200px",url:"http://search.bilibili.com/all?keyword="},{name:"豆瓣",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -150px",position:"0px -240px",url:"https://www.douban.com/search?source=suggest&q="},{name:"优酷",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -150px",position:"-40px -240px",url:"https://so.youku.com/search_video/q_"},{name:"GitHub",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -175px",position:"0px -280px",url:"https://github.com/search?utf8=✓&q="}]},e=localStorage.getItem("searchData");e&&(i=JSON.parse(e));var a=$("#txt"),o=$("#box ul li");function r(e){return $(e).contents().filter(function(e,n){return 3===n.nodeType}).text().trim()}function l(e){$.ajax({type:"GET",url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",async:!0,data:{wd:e},dataType:"jsonp",jsonp:"cb",success:function(e){if($("#box ul").text(""),s=e.s.length){$("#box").css("display","block");for(var n=0;n<s;n++)$("#box ul").append("<li><span>"+(n+1)+"</span> "+e.s[n]+"</li>"),o.eq(n).click(function(){var e=r(this);a.val(e),window.open(i.thisSearch+e),$("#box").css("display","none")}),0===n?(o.eq(n).css({"border-top":"none"}),$("#box ul span").eq(n).css({color:"#fff",background:"#f54545"})):1===n?$("#box ul span").eq(n).css({color:"#fff",background:"#ff8547"}):2===n&&$("#box ul span").eq(n).css({color:"#fff",background:"#ffac38"})}else $("#box").css("display","none")},error:function(e){console.log(e)}})}a.keyup(function(e){$(this).val()?38!==e.keyCode&&40!==e.keyCode&&i.hotStatus&&l($(this).val()):($(".search-clear").css("display","none"),$("#box").css("display","none"))}),a.keydown(function(e){var n;40===e.keyCode?(t===s-1?t=0:t++,o.eq(t).addClass("current").siblings().removeClass("current"),n=r(o.eq(t)),a.val(n)):38===e.keyCode?(e.preventDefault&&e.preventDefault(),e.returnValue&&(e.returnValue=!1),0===t||-1===t?t=s-1:t--,o.eq(t).addClass("current").siblings().removeClass("current"),n=r(o.eq(t)),a.val(n)):13===e.keyCode&&(window.open(i.thisSearch+a.val()),$("#box").css("display","none"),a.blur(),o.removeClass("current"),t=-1)}),a.focus(function(){$(".search-box").css("box-show","inset 0 1px 2px rgba(27,31,35,.075), 0 0 0 0.2em rgba(3,102,214,.3)"),$(this).val()&&i.hotStatus&&l($(this).val())}),a.blur(function(){setTimeout(function(){$("#box").css("display","none")},250)});for(var c=0;c<i.data.length;c++)$(".search-engine-list").append('<li><span style="background:'+i.data[c].img+'"/></span>'+i.data[c].name+"</li>");$(".search-icon, .search-engine").hover(function(){$(".search-engine").css("display","block")},function(){$(".search-engine").css("display","none")});e=$("#hot-btn");e.click(function(){$(this).toggleClass("off"),i.hotStatus=!i.hotStatus,localStorage.searchData=JSON.stringify(i)}),i.hotStatus?e.removeClass("off"):e.addClass("off"),$(".search-engine-list li").click(function(){var e=$(this).index();i.thisSearchIcon=i.data[e].position,n.css("background-position",i.thisSearchIcon),i.thisSearch=i.data[e].url,$(".search-engine").css("display","none"),localStorage.searchData=JSON.stringify(i)}),n.css("background-position",i.thisSearchIcon),$("#search-btn").click(function(){var e=a.val();e?(window.open(i.thisSearch+e),$("#box ul").html("")):layer.msg("请输入关键词！",{time:500},function(){a.focus()})})}},WebStackInit=function(){$('[data-toggle="tooltip"]').tooltip(),webStack.init(),searchWidget.init()};function switchNightMode(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||0;0===parseInt(e)?(document.body.classList.add("night"),document.querySelector("nav.navbar").classList.add("night"),document.cookie="night=1;path=/"):(document.body.classList.remove("night"),document.querySelector("nav.navbar").classList.remove("night"),document.cookie="night=0;path=/")}function isxs(){return is("devicescreen")||is("sdevicescreen")}function get_current_breakpoint(){var e,n=jQuery(window).width(),t=public_vars.breakpoints;for(e in t){var s=t[e],i=s[0],s=s[1];if(-1===s&&(s=n),i<=n&&n<=s)return e}return null}function is(e){return get_current_breakpoint()===e}function ps_init(){isxs()||jQuery.isFunction(jQuery.fn.perfectScrollbar)&&!public_vars.$sidebarMenu.hasClass("collapsed")&&public_vars.$sidebarMenu.hasClass("fixed")&&public_vars.$sidebarMenu.find(".sidebar-menu-inner").perfectScrollbar({wheelSpeed:1,wheelPropagation:public_vars.wheelPropagation})}function ps_destroy(){jQuery.isFunction(jQuery.fn.perfectScrollbar)&&public_vars.$sidebarMenu.find(".sidebar-menu-inner").perfectScrollbar("destroy")}function ps_update(e){isxs()||jQuery.isFunction(jQuery.fn.perfectScrollbar)&&(public_vars.$sidebarMenu.hasClass("collapsed")||(public_vars.$sidebarMenu.find(".sidebar-menu-inner").perfectScrollbar("update"),e&&(ps_destroy(),ps_init())))}function sidebar_menu_item_collapse(e,n){var t;e.data("is-busy")||(t=n.children(),e.removeClass("expanded").data("is-busy",!0),t.addClass("hidden-item"),n.animate({height:0},function(){e.data("is-busy",!1).removeClass("opened"),n.attr("style","").hide(),t.removeClass("hidden-item"),e.find("li.expanded ul").attr("style","").hide().parent().removeClass("expanded"),ps_update(!0)}))}function sidebar_menu_close_items_siblings(e){e.siblings().not(e).filter(".expanded, .opened").each(function(e,n){var t=jQuery(n),n=t.children("ul");sidebar_menu_item_collapse(t,n)})}function sidebar_menu_item_expand(s,e){var i,n,t,a;s.data("is-busy")||s.parent(".main-menu").length&&public_vars.$sidebarMenu.hasClass("collapsed")||(s.addClass("expanded").data("is-busy",!0),e.show(),i=e.children(),t=e.outerHeight(),jQuery(window).height(),s.outerHeight(),n=public_vars.$sidebarMenu.scrollTop(),s.position().top,public_vars.$sidebarMenu.hasClass("fit-in-viewport"),i.addClass("is-hidden"),e.height(0),e.animate({height:t},function(){e.height("")}),t=s.data("sub_i_1"),a=s.data("sub_i_2"),window.clearTimeout(t),t=setTimeout(function(){i.each(function(e,n){jQuery(n).addClass("is-shown")});var e=sm_transition_delay*i.length,n=parseFloat(i.eq(0).css("transition-duration")),t=parseFloat(i.last().css("transition-delay"));n&&t&&(e=1e3*(n+t)),window.clearTimeout(a),a=setTimeout(function(){i.removeClass("is-hidden is-shown")},e),s.data("is-busy",!1)},0),s.data("sub_i_1",t),s.data("sub_i_2",a))}function setup_sidebar_menu(){var e,i;public_vars.$sidebarMenu.length&&(e=public_vars.$sidebarMenu.find("li:has(> ul)"),i=public_vars.$sidebarMenu.hasClass("toggle-others"),e.filter(".active").addClass("expanded"),is("largescreen")&&!1===public_vars.$sidebarMenu.hasClass("collapsed")&&$(window).on("resize",function(){is("tabletscreen")?(public_vars.$sidebarMenu.addClass("collapsed"),ps_destroy()):is("largescreen")&&(public_vars.$sidebarMenu.removeClass("collapsed"),ps_init())}),e.each(function(e,n){var t=jQuery(n),n=t.children("a"),s=t.children("ul");t.addClass("has-sub"),n.on("click",function(e){e.preventDefault(),i&&sidebar_menu_close_items_siblings(t),(t.hasClass("expanded")||t.hasClass("opened")?sidebar_menu_item_collapse:sidebar_menu_item_expand)(t,s)})}))}function setup_horizontal_menu(){var o,s;public_vars.$horizontalMenu.length&&(o=public_vars.$horizontalMenu.find("li:has(> ul)"),(s=public_vars.$horizontalMenu.hasClass("click-to-expand"))&&public_vars.$mainContent.add(public_vars.$sidebarMenu).on("click",function(e){o.removeClass("hover")}),o.each(function(e,n){var t=jQuery(n),n=t.children("a"),i=t.children("ul"),a=t.parent().is(".navbar-nav");t.addClass("has-sub"),n.on("click",function(e){isxs()&&(e.preventDefault(),sidebar_menu_close_items_siblings(t),(t.hasClass("expanded")||t.hasClass("opened")?sidebar_menu_item_collapse:sidebar_menu_item_expand)(t,i))}),s?n.on("click",function(e){var s;e.preventDefault(),isxs()||(a?(o.filter(function(e,n){return jQuery(n).parent().is(".navbar-nav")}).not(t).removeClass("hover"),t.toggleClass("hover")):0==t.hasClass("expanded")?(t.addClass("expanded"),i.addClass("is-visible"),s=i.outerHeight(),i.height(0),TweenLite.to(i,.15,{css:{height:s},ease:Sine.easeInOut,onComplete:function(){i.attr("style","")}}),t.siblings().find("> ul.is-visible").not(i).each(function(e,n){var t=jQuery(n);s=t.outerHeight(),t.removeClass("is-visible").height(s),t.parent().removeClass("expanded"),TweenLite.to(t,.15,{css:{height:0},onComplete:function(){t.attr("style","")}})})):(s=i.outerHeight(),t.removeClass("expanded"),i.removeClass("is-visible").height(s),TweenLite.to(i,.15,{css:{height:0},onComplete:function(){i.attr("style","")}})))}):t.hoverIntent({over:function(){isxs()||(a?t.addClass("hover"):(i.addClass("is-visible"),sub_height=i.outerHeight(),i.height(0),TweenLite.to(i,.25,{css:{height:sub_height},ease:Sine.easeInOut,onComplete:function(){i.attr("style","")}})))},out:function(){isxs()||(a?t.removeClass("hover"):(sub_height=i.outerHeight(),t.removeClass("expanded"),i.removeClass("is-visible").height(sub_height),TweenLite.to(i,.25,{css:{height:0},onComplete:function(){i.attr("style","")}})))},timeout:200,interval:a?10:100})}))}