console.log(" %c Theme WebStack %c https://github.com/gogobody/WebStack","color:#444;background:#eee;padding:5px 0","color:#eee;background:#444;padding:5px");var public_vars=public_vars||{},sm_duration=.2,sm_transition_delay=150;public_vars.$body=$("body"),public_vars.$pageContainer=public_vars.$body.find(".page-container"),public_vars.$sidebarMenu=public_vars.$body.find(".sidebar-menu"),public_vars.$sidebarProfile=public_vars.$sidebarMenu.find(".sidebar-user-info"),public_vars.$mainMenu=public_vars.$sidebarMenu.find(".main-menu"),public_vars.$sidebarInner=$(".sidebar-menu-inner"),public_vars.$horizontalNavbar=public_vars.$body.find(".navbar.horizontal-menu"),public_vars.$horizontalMenu=public_vars.$horizontalNavbar.find(".navbar-nav"),public_vars.$mainContent=public_vars.$pageContainer.find(".main-content"),public_vars.$userInfoMenu=public_vars.$body.find("nav.navbar.user-info-navbar");var webStack={init:function(){this.siteEventInit(),this.resetStyle(),this.toggleBarInit()},resetStyle:function(){var e=$(window).width();768<e&&e<987&&$(".sidebar-menu.toggle-others").addClass("collapsed"),this.resizeNavBar()},nightModeInit:function(){var e;""===document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")?22<(new Date).getHours()||(new Date).getHours()<6?(document.body.classList.add("night"),document.cookie="night=1;path=/"):(document.body.classList.remove("night"),document.cookie="night=0;path=/"):(e=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||0,0===parseInt(e)?(document.body.classList.remove("night"),document.querySelector("nav.navbar").classList.remove("night")):(document.body.classList.add("night"),document.querySelector("nav.navbar").classList.add("night")))},siteEventInit:function(){$(document).on("click",".has-sub",function(){var a=$(this);$(this).hasClass("expanded")?$(".has-sub ul").each(function(e,s){var i=$(this);a.find("ul")[0]!==s&&setTimeout(function(){i.attr("style","")},300)}):setTimeout(function(){a.find("ul").attr("style","")},300)}),$(".user-info-menu .hidden-sm").click(function(){$(".sidebar-menu").hasClass("collapsed")?$(".has-sub.expanded > ul").attr("style",""):$(".has-sub.expanded > ul").show()}),$("#main-menu li ul li").click(function(){$(this).siblings("li").removeClass("active"),$(this).addClass("active")})},resizeNavBar:function(){var e=document.querySelector("nav.navbar"),s=document.querySelector("div.sidebar-menu.toggle-others.fixed").offsetWidth+"px";e.style.left=s,public_vars.$pageContainer[0].style.paddingLeft=s},toggleBarInit:function(){$("a.smooth").click(function(e){if("index"!==npage)return window.location.href=siteUrl+$(this).attr("href"),!1;e.preventDefault(),$("#main-menu li").each(function(){$(this).removeClass("active")}),$(this).parent("li").addClass("active"),public_vars.$mainMenu.add(public_vars.$sidebarProfile).toggleClass("mobile-is-visible"),public_vars.$sidebarInner.toggleClass("onfixed"),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top-95},{duration:500,easing:"swing"})}),setup_sidebar_menu(),setup_horizontal_menu(),$('a[data-toggle="sidebar"]').each(function(e,s){$(s).on("click",function(e){e.preventDefault(),public_vars.$sidebarMenu.hasClass("collapsed")?public_vars.$sidebarMenu.removeClass("collapsed"):public_vars.$sidebarMenu.addClass("collapsed"),webStack.resizeNavBar()})}),$('a[data-toggle="mobile-menu"]').on("click",function(e){e.preventDefault(),public_vars.$sidebarInner.toggleClass("onfixed"),public_vars.$mainMenu.add(public_vars.$sidebarProfile).toggleClass("mobile-is-visible"),public_vars.$userInfoMenu.hasClass("mobile-is-visible")&&public_vars.$userInfoMenu.toggleClass("mobile-is-visible")}),$('a[data-toggle="user-info-menu"]').on("click",function(e){e.preventDefault(),public_vars.$userInfoMenu.toggleClass("mobile-is-visible"),public_vars.$sidebarInner.removeClass("onfixed"),public_vars.$mainMenu.hasClass("mobile-is-visible")&&public_vars.$mainMenu.toggleClass("mobile-is-visible")})}},searchWidget={init:function(){this.search()},search:function(){var s=$(".search-icon");s.css("opacity","1");var i=-1,a=0,n={thisSearch:"https://www.baidu.com/s?wd=",thisSearchIcon:"url('/usr/themes/WebStack/images/search_icon.png')",hotStatus:!0,data:[{name:"百度",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px 0px",position:"0px 0px",url:"https://www.baidu.com/s?wd="},{name:"谷歌",img:"url('/usr/themes/WebStack/images/search_icon.png')  -105px 0px",position:"-40px 0px",url:"https://www.google.com/search?q="},{name:"必应",img:"url('/usr/themes/WebStack/images/search_icon.png')  -80px -25px",position:"0px -40px",url:"https://cn.bing.com/search?q="},{name:"好搜",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -25px",position:"-40px -40px",url:"https://www.so.com/s?q="},{name:"搜狗",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -50px",position:"0px -80px",url:"https://www.sogou.com/web?query="},{name:"淘宝",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -50px",position:"-40px -80px",url:"https://s.taobao.com/search?q="},{name:"京东",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -75px",position:"0px -120px",url:"http://search.jd.com/Search?keyword="},{name:"天猫",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -75px",position:"-40px -120px",url:"https://list.tmall.com/search_product.htm?q="},{name:"1688",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -100px",position:"0px -160px",url:"https://s.1688.com/selloffer/offer_search.htm?keywords="},{name:"知乎",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -100px",position:"-40px -160px",url:"https://www.zhihu.com/search?type=content&q="},{name:"微博",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -125px",position:"0px -200px",url:"https://s.weibo.com/weibo/"},{name:"B站",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -125px",position:"-40px -200px",url:"http://search.bilibili.com/all?keyword="},{name:"豆瓣",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -150px",position:"0px -240px",url:"https://www.douban.com/search?source=suggest&q="},{name:"优酷",img:"url('/usr/themes/WebStack/images/search_icon.png') -105px -150px",position:"-40px -240px",url:"https://so.youku.com/search_video/q_"},{name:"GitHub",img:"url('/usr/themes/WebStack/images/search_icon.png') -80px -175px",position:"0px -280px",url:"https://github.com/search?utf8=✓&q="}]},e=localStorage.getItem("searchData");e&&(n=JSON.parse(e));var t=$("#txt"),o=$("#box ul li");function r(e){return $(e).contents().filter(function(e,s){return 3===s.nodeType}).text().trim()}function l(e){$.ajax({type:"GET",url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",async:!0,data:{wd:e},dataType:"jsonp",jsonp:"cb",success:function(e){if($("#box ul").text(""),a=e.s.length){$("#box").css("display","block");for(var s=0;s<a;s++)$("#box ul").append("<li><span>"+(s+1)+"</span> "+e.s[s]+"</li>"),(o=$("#box ul li")).eq(s).click(function(){var e=r(this);t.val(e),window.open(n.thisSearch+e),$("#box").css("display","none")}),0===s?(o.eq(s).css({"border-top":"none"}),$("#box ul span").eq(s).css({color:"#fff",background:"#f54545"})):1===s?$("#box ul span").eq(s).css({color:"#fff",background:"#ff8547"}):2===s&&$("#box ul span").eq(s).css({color:"#fff",background:"#ffac38"})}else $("#box").css("display","none")},error:function(e){console.log(e)}})}t.keyup(function(e){$(this).val()?38!==e.keyCode&&40!==e.keyCode&&n.hotStatus&&l($(this).val()):($(".search-clear").css("display","none"),$("#box").css("display","none"))}),t.keydown(function(e){var s;40===e.keyCode?(i===a-1?i=0:i++,o.eq(i).addClass("current").siblings().removeClass("current"),s=r(o.eq(i)),t.val(s)):38===e.keyCode?(e.preventDefault&&e.preventDefault(),e.returnValue&&(e.returnValue=!1),0===i||-1===i?i=a-1:i--,o.eq(i).addClass("current").siblings().removeClass("current"),s=r(o.eq(i)),t.val(s)):13===e.keyCode&&(window.open(n.thisSearch+t.val()),$("#box").css("display","none"),t.blur(),o.removeClass("current"),i=-1)}),t.focus(function(){$(".search-box").css("box-show","inset 0 1px 2px rgba(27,31,35,.075), 0 0 0 0.2em rgba(3,102,214,.3)"),$(this).val()&&n.hotStatus&&l($(this).val())}),t.blur(function(){setTimeout(function(){$("#box").css("display","none")},250)});for(var c=0;c<n.data.length;c++)$(".search-engine-list").append('<li><span style="background:'+n.data[c].img+'"/></span>'+n.data[c].name+"</li>");$(".search-icon, .search-engine").hover(function(){$(".search-engine").css("display","block")},function(){$(".search-engine").css("display","none")});e=$("#hot-btn");e.click(function(){$(this).toggleClass("off"),n.hotStatus=!n.hotStatus,localStorage.searchData=JSON.stringify(n)}),n.hotStatus?e.removeClass("off"):e.addClass("off"),$(".search-engine-list li").click(function(){var e=$(this).index();n.thisSearchIcon=n.data[e].position,s.css("background-position",n.thisSearchIcon),n.thisSearch=n.data[e].url,$(".search-engine").css("display","none"),localStorage.searchData=JSON.stringify(n)}),s.css("background-position",n.thisSearchIcon),$("#search-btn").click(function(){var e=t.val();e?(window.open(n.thisSearch+e),$("#box ul").html("")):t.focus()})}},WebStackInit=function(){$('[data-toggle="tooltip"]').tooltip(),webStack.init(),searchWidget.init()};function switchNightMode(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||0;0===parseInt(e)?(document.body.classList.add("night"),document.querySelector("nav.navbar").classList.add("night"),document.cookie="night=1;path=/"):(document.body.classList.remove("night"),document.querySelector("nav.navbar").classList.remove("night"),document.cookie="night=0;path=/")}function isxs(){return is("devicescreen")||is("sdevicescreen")}function get_current_breakpoint(){var e,s=jQuery(window).width(),i=public_vars.breakpoints;for(e in i){var a=i[e],n=a[0],a=a[1];if(-1===a&&(a=s),n<=s&&s<=a)return e}return null}function is(e){return get_current_breakpoint()===e}function sidebar_menu_item_collapse(e,s){var i;e.data("is-busy")||(i=s.children(),e.removeClass("expanded").data("is-busy",!0),i.addClass("hidden-item"),s.animate({height:0},function(){e.data("is-busy",!1).removeClass("opened"),s.attr("style","").hide(),i.removeClass("hidden-item"),e.find("li.expanded ul").attr("style","").hide().parent().removeClass("expanded")}))}function sidebar_menu_close_items_siblings(e){e.siblings().not(e).filter(".expanded, .opened").each(function(e,s){var i=jQuery(s),s=i.children("ul");sidebar_menu_item_collapse(i,s)})}function sidebar_menu_item_expand(a,e){var n,s,i,t;a.data("is-busy")||a.parent(".main-menu").length&&public_vars.$sidebarMenu.hasClass("collapsed")||(a.addClass("expanded").data("is-busy",!0),e.show(),n=e.children(),i=e.outerHeight(),jQuery(window).height(),a.outerHeight(),s=public_vars.$sidebarMenu.scrollTop(),a.position().top,public_vars.$sidebarMenu.hasClass("fit-in-viewport"),n.addClass("is-hidden"),e.height(0),e.animate({height:i},function(){e.height("")}),i=a.data("sub_i_1"),t=a.data("sub_i_2"),window.clearTimeout(i),i=setTimeout(function(){n.each(function(e,s){jQuery(s).addClass("is-shown")});var e=sm_transition_delay*n.length,s=parseFloat(n.eq(0).css("transition-duration")),i=parseFloat(n.last().css("transition-delay"));s&&i&&(e=1e3*(s+i)),window.clearTimeout(t),t=setTimeout(function(){n.removeClass("is-hidden is-shown")},e),a.data("is-busy",!1)},0),a.data("sub_i_1",i),a.data("sub_i_2",t))}function setup_sidebar_menu(){var e,n;public_vars.$sidebarMenu.length&&(e=public_vars.$sidebarMenu.find("li:has(> ul)"),n=public_vars.$sidebarMenu.hasClass("toggle-others"),e.filter(".active").addClass("expanded"),is("largescreen")&&!1===public_vars.$sidebarMenu.hasClass("collapsed")&&$(window).on("resize",function(){is("tabletscreen")?public_vars.$sidebarMenu.addClass("collapsed"):is("largescreen")&&public_vars.$sidebarMenu.removeClass("collapsed")}),e.each(function(e,s){var i=jQuery(s),s=i.children("a"),a=i.children("ul");i.addClass("has-sub"),s.on("click",function(e){e.preventDefault(),n&&sidebar_menu_close_items_siblings(i),(i.hasClass("expanded")||i.hasClass("opened")?sidebar_menu_item_collapse:sidebar_menu_item_expand)(i,a)})}))}function setup_horizontal_menu(){var o,a;public_vars.$horizontalMenu.length&&(o=public_vars.$horizontalMenu.find("li:has(> ul)"),(a=public_vars.$horizontalMenu.hasClass("click-to-expand"))&&public_vars.$mainContent.add(public_vars.$sidebarMenu).on("click",function(e){o.removeClass("hover")}),o.each(function(e,s){var i=jQuery(s),s=i.children("a"),n=i.children("ul"),t=i.parent().is(".navbar-nav");i.addClass("has-sub"),s.on("click",function(e){isxs()&&(e.preventDefault(),sidebar_menu_close_items_siblings(i),(i.hasClass("expanded")||i.hasClass("opened")?sidebar_menu_item_collapse:sidebar_menu_item_expand)(i,n))}),a?s.on("click",function(e){var a;e.preventDefault(),isxs()||(t?(o.filter(function(e,s){return jQuery(s).parent().is(".navbar-nav")}).not(i).removeClass("hover"),i.toggleClass("hover")):0==i.hasClass("expanded")?(i.addClass("expanded"),n.addClass("is-visible"),a=n.outerHeight(),n.height(0),TweenLite.to(n,.15,{css:{height:a},ease:Sine.easeInOut,onComplete:function(){n.attr("style","")}}),i.siblings().find("> ul.is-visible").not(n).each(function(e,s){var i=jQuery(s);a=i.outerHeight(),i.removeClass("is-visible").height(a),i.parent().removeClass("expanded"),TweenLite.to(i,.15,{css:{height:0},onComplete:function(){i.attr("style","")}})})):(a=n.outerHeight(),i.removeClass("expanded"),n.removeClass("is-visible").height(a),TweenLite.to(n,.15,{css:{height:0},onComplete:function(){n.attr("style","")}})))}):i.hoverIntent({over:function(){isxs()||(t?i.addClass("hover"):(n.addClass("is-visible"),sub_height=n.outerHeight(),n.height(0),TweenLite.to(n,.25,{css:{height:sub_height},ease:Sine.easeInOut,onComplete:function(){n.attr("style","")}})))},out:function(){isxs()||(t?i.removeClass("hover"):(sub_height=n.outerHeight(),i.removeClass("expanded"),n.removeClass("is-visible").height(sub_height),TweenLite.to(n,.25,{css:{height:0},onComplete:function(){n.attr("style","")}})))},timeout:200,interval:t?10:100})}))}